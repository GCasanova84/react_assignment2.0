{"ast":null,"code":"export const fetchUserActivities = () => {\n  const now = Date.now();\n  const currentDate = new Date(now);\n  let currentYear = currentDate.getFullYear();\n  let currentMonth = currentDate.getMonth() + 1; // (0-11)\n\n  const currentDay = currentDate.getDate();\n  console.log(now);\n  console.log(currentMonth);\n\n  if (currentMonth < 3) {\n    currentYear = currentYear - 1;\n    currentMonth = currentMonth + 12;\n  }\n\n  const from = new Date(currentYear, currentMonth - 3, currentDay).getTime();\n  console.log(from);\n  console.log(currentMonth - 3); //const token = '42c22f12ee48799d7a0f80ffac2c7ff7fb25afb1';\n  //const url = `https://www.strava.com/api/v3/athlete/activities?access_token=${token}&before=${now}&after=${from}`;\n\n  const url = 'http://localhost:3001/activities'; //const bearer = `Bearer ${token}`;\n\n  return async dispatch => {\n    await fetch(url).then(response => response.json()).then(data => {\n      let activities = [];\n\n      for (let index = 0; index < 30; index++) {\n        const randomActivity = Math.floor(Math.random() * 4);\n        const randomDate = Math.floor(from + Math.random() * (now + 1 - from));\n        const randomDistance = Math.floor(Math.random() * 10000);\n        ; //const randomTime = ;\n        //const randomElevation = ;\n\n        let activity = { ...data[randomActivity],\n          id: index + 1,\n          date: randomDate,\n          distance: data[randomActivity].distance * randomDistance\n        };\n        activities.push(activity);\n      }\n\n      return dispatch(loadUserActivities(activities));\n    });\n  };\n};\nexport const loadUserActivities = activities => ({\n  type: 'LOAD_ACTIVITIES',\n  payload: {\n    activities\n  }\n});","map":{"version":3,"sources":["/home/gregory/Documentos/react-assignment/react-assignment/src/actions/user.js"],"names":["fetchUserActivities","now","Date","currentDate","currentYear","getFullYear","currentMonth","getMonth","currentDay","getDate","console","log","from","getTime","url","dispatch","fetch","then","response","json","data","activities","index","randomActivity","Math","floor","random","randomDate","randomDistance","activity","id","date","distance","push","loadUserActivities","type","payload"],"mappings":"AAAA,OAAO,MAAMA,mBAAmB,GAAG,MAAM;AACrC,QAAMC,GAAG,GAAGC,IAAI,CAACD,GAAL,EAAZ;AACA,QAAME,WAAW,GAAG,IAAID,IAAJ,CAASD,GAAT,CAApB;AACA,MAAIG,WAAW,GAAGD,WAAW,CAACE,WAAZ,EAAlB;AACA,MAAIC,YAAY,GAAGH,WAAW,CAACI,QAAZ,KAAyB,CAA5C,CAJqC,CAIU;;AAC/C,QAAMC,UAAU,GAAGL,WAAW,CAACM,OAAZ,EAAnB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACAS,EAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;;AAEA,MAAIA,YAAY,GAAG,CAAnB,EAAsB;AAClBF,IAAAA,WAAW,GAAGA,WAAW,GAAG,CAA5B;AACAE,IAAAA,YAAY,GAAGA,YAAY,GAAG,EAA9B;AACH;;AACD,QAAMM,IAAI,GAAG,IAAIV,IAAJ,CAASE,WAAT,EAAsBE,YAAY,GAAG,CAArC,EAAwCE,UAAxC,EAAoDK,OAApD,EAAb;AAEAH,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYL,YAAY,GAAG,CAA3B,EAjBqC,CAmBrC;AAEA;;AAEA,QAAMQ,GAAG,GAAG,kCAAZ,CAvBqC,CAyBrC;;AAEA,SAAO,MAAOC,QAAP,IAAoB;AACvB,UAAMC,KAAK,CAACF,GAAD,CAAL,CACDG,IADC,CACIC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADhB,EAEDF,IAFC,CAEIG,IAAI,IAAI;AACV,UAAIC,UAAU,GAAG,EAAjB;;AACA,WAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,EAA5B,EAAgCA,KAAK,EAArC,EAAyC;AACrC,cAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,CAAvB;AACA,cAAMC,UAAU,GAAGH,IAAI,CAACC,KAAL,CAAWb,IAAI,GAAGY,IAAI,CAACE,MAAL,MAAezB,GAAG,GAAG,CAAN,GAAUW,IAAzB,CAAlB,CAAnB;AACA,cAAMgB,cAAc,GAAGJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,KAA3B,CAAvB;AAAyD,SAHpB,CAIrC;AACA;;AACA,YAAIG,QAAQ,GAAG,EACX,GAAGT,IAAI,CAACG,cAAD,CADI;AAEXO,UAAAA,EAAE,EAAER,KAAK,GAAG,CAFD;AAGXS,UAAAA,IAAI,EAAEJ,UAHK;AAIXK,UAAAA,QAAQ,EAAEZ,IAAI,CAACG,cAAD,CAAJ,CAAqBS,QAArB,GAAgCJ;AAJ/B,SAAf;AAMAP,QAAAA,UAAU,CAACY,IAAX,CAAgBJ,QAAhB;AACH;;AACD,aAAOd,QAAQ,CAACmB,kBAAkB,CAACb,UAAD,CAAnB,CAAf;AACH,KAnBC,CAAN;AAqBH,GAtBD;AAyBH,CApDM;AAsDP,OAAO,MAAMa,kBAAkB,GAAIb,UAAD,KAAiB;AAC/Cc,EAAAA,IAAI,EAAE,iBADyC;AAE/CC,EAAAA,OAAO,EAAE;AACLf,IAAAA;AADK;AAFsC,CAAjB,CAA3B","sourcesContent":["export const fetchUserActivities = () => {\n    const now = Date.now();\n    const currentDate = new Date(now);\n    let currentYear = currentDate.getFullYear();\n    let currentMonth = currentDate.getMonth() + 1; // (0-11)\n    const currentDay = currentDate.getDate();\n\n    console.log(now);\n    console.log(currentMonth)\n\n    if (currentMonth < 3) {\n        currentYear = currentYear - 1;\n        currentMonth = currentMonth + 12;\n    }\n    const from = new Date(currentYear, currentMonth - 3, currentDay).getTime();\n\n    console.log(from);\n    console.log(currentMonth - 3)\n\n    //const token = '42c22f12ee48799d7a0f80ffac2c7ff7fb25afb1';\n\n    //const url = `https://www.strava.com/api/v3/athlete/activities?access_token=${token}&before=${now}&after=${from}`;\n\n    const url = 'http://localhost:3001/activities';\n\n    //const bearer = `Bearer ${token}`;\n\n    return async (dispatch) => {\n        await fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                let activities = [];\n                for (let index = 0; index < 30; index++) {\n                    const randomActivity = Math.floor(Math.random() * 4);\n                    const randomDate = Math.floor(from + Math.random()*(now + 1 - from));\n                    const randomDistance = Math.floor(Math.random() * 10000);;\n                    //const randomTime = ;\n                    //const randomElevation = ;\n                    let activity = {\n                        ...data[randomActivity],\n                        id: index + 1,\n                        date: randomDate,\n                        distance: data[randomActivity].distance * randomDistance\n                    }\n                    activities.push(activity)\n                }\n                return dispatch(loadUserActivities(activities));\n            });\n\n    }\n\n\n}\n\nexport const loadUserActivities = (activities) => ({\n    type: 'LOAD_ACTIVITIES',\n    payload: {\n        activities\n    }\n})"]},"metadata":{},"sourceType":"module"}